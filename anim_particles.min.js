class fireParticles{canvas=null;ctx=null;allowRender=!1;pause=!1;dots=[];mouse={x:null,y:null};config={touchRange:100,ctxBackgroundColor:'#000000',mainClr:'#cccccc',touchClr:'#ff0000',moveSpeed:2,angSpeed:30,maxConnections:3,count:300,connectionLength:80,maxSize:0.7,maxLife:12};constructor(setCanvas=null,setConfig=null){if(setConfig){this.config={...this.config,...setConfig}};if(setCanvas){this.allowRender=!0;this.ctx=setCanvas.getContext('2d');this.canvas=setCanvas;this.canvas.style['background-color']=this.config.ctxBackgroundColor;this.ctx.fillStyle=this.ctx.strokeStyle=this.config.defaultColor}};startRender(){this.pause=!1;requestAnimationFrame(()=>{this.renderer(this)})};stopRender(){this.pause=!0};clearRender(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)};clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.dots=[]};applyConfig(setConfig={}){this.config={...this.config,...setConfig};this.canvas.style['background-color']=this.config.ctxBackgroundColor;this.ctx.fillStyle=this.ctx.strokeStyle=this.config.defaultColor};setMouse(x,y){this.mouse={x:x,y:y}};resizeCanvas(width,height){this.ctx.width=this.canvas.width=width;this.ctx.height=this.canvas.height=height};renderer(parent){parent.ctx.clearRect(0,0,parent.canvas.width,parent.canvas.height);for(let i=0;i<parent.config.count;i++){let dot=parent.dots[i];if(!dot){dot={};dot.x=Math.random()*parent.canvas.width;dot.y=Math.random()*parent.canvas.height;dot.s=Math.random()*parent.config.maxSize;dot.a=Math.ceil(Math.random()*360);dot.life=Math.random()*parent.config.maxLife;dot.an=Math.random();dot.c=parent.config.mainClr;dot.c2=parent.config.touchClr;parent.dots[i]=dot};if(dot.life<0){delete parent.dots[i]}else{dot.life-=0.01;dot.an-=0.01;if(dot.an<0){dot.a+=(parent.config.angSpeed/2)-Math.random()*parent.config.angSpeed;dot.an=Math.random()*3};if(dot.ms){dot.ms-=0.01;if(dot.ms<0){delete dot.ms;parent.ctx.fillStyle=parent.ctx.strokeStyle=dot.c}else{parent.ctx.fillStyle=parent.ctx.strokeStyle=dot.c2}}else{parent.ctx.fillStyle=parent.ctx.strokeStyle=dot.c};if(!dot.ms){dot.x+=Math.random()*Math.cos(dot.a)*parent.config.moveSpeed;dot.y+=Math.random()*Math.sin(dot.a)*parent.config.moveSpeed}else{dot.x+=Math.random()*Math.cos(dot.a)*parent.config.moveSpeed*3;dot.y+=Math.random()*Math.sin(dot.a)*parent.config.moveSpeed*3};if(dot.x<0)dot.x=0;if(dot.y<0)dot.y=0;if(dot.x>parent.canvas.width)dot.x=parent.canvas.width;if(dot.y>parent.canvas.height)dot.y=parent.canvas.height;parent.ctx.beginPath();parent.ctx.arc(dot.x,dot.y,dot.s,0,2*Math.PI);parent.ctx.stroke();parent.ctx.fill();parent.ctx.closePath();dot.has=0;if(parent.mouse.x){if(parent.dist(dot.x,dot.y,parent.mouse.x,parent.mouse.y)<parent.config.touchRange){dot.ms=1+Math.random();dot.a=parent.dir(dot.x,dot.y,parent.mouse.x,parent.mouse.y)+180}};for(let d=0;d<parent.config.count;d++){if(parent.dots[d]&&dot.has<parent.config.maxConnections){let dot2=parent.dots[d];if(parent.dist(dot.x,dot.y,dot2.x,dot2.y)<parent.config.connectionLength){dot.has++;parent.ctx.lineWidth=(dot.s+dot2.s)/2;parent.ctx.beginPath();parent.ctx.moveTo(dot.x,dot.y);parent.ctx.lineTo(dot2.x,dot2.y);parent.ctx.closePath();parent.ctx.stroke()}}}}};if(!parent.pause)requestAnimationFrame(()=>{parent.renderer(parent)})};dir(x1,y1,x2,y2){return Math.atan2(y2-y1,x2-x1)};dist(x1,y1,x2,y2){let a=x1-x2,b=y1-y2;return Math.sqrt(a*a+b*b)}}
